{% extends "base.html" %}

{% block title %}{{ employee['name'] }} - ê·¼íƒœ ìƒì„¸ ì •ë³´{% endblock %}

{% block page_content %}
<div class="card" style="grid-column: 1 / 3;">
    <div class="card-header employee-list-header">
        <div>{{ employee['name'] }} ({{ employee['id'] }}) ê·¼íƒœ ì •ë³´</div>
        <div>
            <a href="{{ url_for('attendance') }}" class="sub-action-btn header-btn">ğŸ”™ ê·¼íƒœ í˜„í™©ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
    </div>

    <div class="card-body">
        
        <table class="employee-detail-table"> 
            <tr><th>ì´ë¦„</th><td>{{ employee['name'] }}</td></tr>
            <tr><th>ë¶€ì„œ/ì§ê¸‰</th><td>{{ employee['department'] }} / {{ employee['position'] }}</td></tr>
            <tr><th>í˜„ì¬ ìƒíƒœ</th>
                <td>
                    <strong style="color: 
                        {% if today_status == 'ì¬ì‹¤' %}
                            green
                        {% elif today_status == 'íœ´ê°€' %}
                            #3498db
                        {% elif today_status == 'ì™¸ê·¼' %}
                            #f39c12
                        {% elif today_status == 'ì¶œì¥' %}
                            #1abc9c
                        {% elif today_status == 'ë¶€ì¬' %}
                            red
                        {% else %}
                            black
                        {% endif %};">
                        {{ today_status }}
                    </strong>
                </td>
            </tr>
        </table>
        
        <h4 style="margin-top: 30px;">ìµœê·¼ ê·¼íƒœ ê¸°ë¡ (5ì¼)</h4>
        <table class="employee-table">
            <thead>
                <tr>
                    <th>ë‚ ì§œ</th>
                    <th>ì¶œê·¼ ì‹œê°„</th>
                    <th>í‡´ê·¼ ì‹œê°„</th>
                    <th>ê·¼ë¬´ ìƒíƒœ</th>
                    <th>ë¹„ê³ </th>
                </tr>
            </thead>
            <tbody>
            {% for record in records %}
                <tr>
                    <td>{{ record['date'] }}</td>
                    <td>{{ record['clock_in'] if record['clock_in'] else '-' }}</td>
                    <td>{{ record['clock_out'] if record['clock_out'] else '-' }}</td>
                    <td>{{ record['status'] }}</td>
                    <td>-</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}