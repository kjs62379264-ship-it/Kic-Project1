{% extends "base.html" %}

{% block title %}나의 급여 명세서{% endblock %}

{% block page_content %}

<div class="card" style="grid-column: 1 / -1;">
    <div class="card-header">
        <span>나의 급여 명세서 조회</span>
    </div>
    
    <div style="padding: 15px; border-bottom: 1px solid #e0e0e0;">
        <div class="search-filters" style="display: flex; gap: 15px; align-items: center;">
            <span style="font-weight: bold;">조회 년도:</span>
            <select name="year_filter" style="padding: 8px;">
                <option value="2025" selected>2025년</option>
                <option value="2024">2024년</option>
            </select>
            <button type="submit" class="sub-action-btn header-btn">조회</button>
        </div>
    </div>
    
    <div class="card-body">
        <table class="employee-table">
            <thead>
                <tr>
                    <th style="width: 25%;">지급 월</th>
                    <th style="width: 25%;">지급일</th>
                    <th style="width: 25%;">발급 상태</th>
                    <th style="width: 25%;">명세서 보기</th>
                </tr>
            </thead>
            <tbody>
            {% for slip in payslips %}
                <tr>
                    <td>{{ slip.month }}</td>
                    <td>{{ slip.pay_date }}</td>
                    <td>
                        {# hr_styles.css에 정의된 status-indicator 사용 #}
                        <span class="status-indicator approved">{{ slip.status }}</span>
                    </td>
                    <td>
                        <a href="#" class="btn detail-btn">상세보기 (PDF)</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="4" style="text-align: center; color: #7f8c8d;">
                        해당 년도의 급여 명세서가 없습니다.
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}