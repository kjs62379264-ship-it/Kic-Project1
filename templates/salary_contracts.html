{% extends "base.html" %}

{% block title %}ê¸‰ì—¬ ê³„ì•½ ê´€ë¦¬{% endblock %}

{% block page_content %}
<div class="card" style="grid-column: 1 / -1;">
    <div class="card-header">
        <span>ì§ì› ì—°ë´‰ ë° ê³„ì¢Œ ê´€ë¦¬</span>
    </div>
    <div class="card-body">
        <table class="employee-table">
            <thead>
                <tr>
                    <th style="width: 100px;">ì‚¬ë²ˆ</th>
                    <th style="width: 100px;">ì´ë¦„</th>
                    <th>ë¶€ì„œ/ì§ê¸‰</th>
                    <th>ì—°ë´‰ (ì›)</th>
                    <th>ì›” ê¸°ë³¸ê¸‰ (ì˜ˆìƒ)</th>
                    <th>ì§€ê¸‰ ì€í–‰</th>
                    <th>ê³„ì¢Œ ë²ˆí˜¸</th>
                    <th style="width: 80px;">ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody>
            {% for c in contracts %}
            <tr>
                <form method="POST" action="{{ url_for('salary_contracts') }}">
                    <input type="hidden" name="employee_id" value="{{ c.id }}">
                    <td>{{ c.id }}</td>
                    <td>{{ c.name }}</td>
                    <td>{{ c.department }} {{ c.position }}</td>
                    
                    <td>
                        <input type="text" name="annual_salary" value="{{ c.annual_salary|default(0) }}" 
                               style="width: 100px; text-align: right;" required>
                    </td>
                    
                    <td style="color: #7f8c8d; text-align: right;">
                        {{ (c.base_salary|default(0))|comma }}
                    </td>
                    
                    <td>
                        <select name="bank_name" style="width: 100%;">
                            <option value="">ì„ íƒ</option>
                            <option value="êµ­ë¯¼ì€í–‰" {% if c.bank_name == 'êµ­ë¯¼ì€í–‰' %}selected{% endif %}>êµ­ë¯¼</option>
                            <option value="ì‹ í•œì€í–‰" {% if c.bank_name == 'ì‹ í•œì€í–‰' %}selected{% endif %}>ì‹ í•œ</option>
                            <option value="ìš°ë¦¬ì€í–‰" {% if c.bank_name == 'ìš°ë¦¬ì€í–‰' %}selected{% endif %}>ìš°ë¦¬</option>
                            <option value="í•˜ë‚˜ì€í–‰" {% if c.bank_name == 'í•˜ë‚˜ì€í–‰' %}selected{% endif %}>í•˜ë‚˜</option>
                            <option value="ë†í˜‘" {% if c.bank_name == 'ë†í˜‘' %}selected{% endif %}>ë†í˜‘</option>
                            <option value="ì¹´ì¹´ì˜¤ë±…í¬" {% if c.bank_name == 'ì¹´ì¹´ì˜¤ë±…í¬' %}selected{% endif %}>ì¹´ì¹´ì˜¤</option>
                        </select>
                    </td>
                    
                    <td>
                        <input type="text" name="account_number" value="{{ c.account_number|default('') }}" 
                               placeholder="í•˜ì´í”ˆ(-) í¬í•¨" style="width: 100%;">
                    </td>
                    
                    <td>
                        <button type="submit" class="sub-action-btn" style="padding: 5px 10px; font-size: 0.8em;">ğŸ’¾ ì €ì¥</button>
                    </td>
                </form>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}