{% extends "base.html" %}

{% block title %}{{ employee['name'] }} - ì§ì› ìƒì„¸ ì •ë³´{% endblock %}

{% block page_content %}
<div class="card" style="grid-column: 1 / 3;">
    <div class="card-header employee-list-header">
        <div>ì§ì› ìƒì„¸ ì •ë³´</div>
        <div>
            {% if employee['status'] == 'ì¬ì§' %}
                <a href="{{ url_for('print_certificate', employee_id=employee['id']) }}" target="_blank" class="sub-action-btn header-btn" style="background-color: #8e44ad; color: white;">
                    ğŸ“œ ì¬ì§ì¦ëª…ì„œ ì¸ì‡„
                </a>
            {% endif %}

            {% if employee['status'] == 'ì¬ì§' %}
                {% if g.user.role == 'admin' or g.user.id == employee['id'] %}
                <a href="{{ url_for('edit_employee', employee_id=employee['id']) }}" class="main-action-btn header-btn">âœï¸ ìˆ˜ì •</a>
                {% endif %}
                
                {% if g.user.role == 'admin' %}
                <form action="{{ url_for('process_departure', employee_id=employee['id']) }}" method="POST" style="display: inline;">
                    <button type="submit" class="danger-action-btn header-btn" 
                            onclick="return confirm('ì •ë§ë¡œ í•´ë‹¹ ì§ì›ì„ í‡´ì‚¬ ì²˜ë¦¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                        ğŸ‘‹ í‡´ì‚¬ ì²˜ë¦¬
                    </button>
                </form>
                {% endif %}
            {% endif %}

            <a href="{{ url_for('hr_management') }}" class="sub-action-btn header-btn">ğŸ”™ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
    </div>

    <div class="card-body">
        <table class="employee-detail-table">
            <tr>
                <th>ì‚¬ë²ˆ</th>
                <td>{{ employee['id'] }}</td>
            </tr>
            <tr>
                <th>ì´ë¦„</th>
                <td>{{ employee['name'] }}</td>
            </tr>
            <tr>
                <th>ë¶€ì„œ</th>
                <td>{{ employee['department'] }}</td>
            </tr>
            <tr>
                <th>ì§ê¸‰</th>
                <td>{{ employee['position'] }}</td>
            </tr>
            <tr>
                <th>ì…ì‚¬ì¼</th>
                <td>{{ employee['hire_date'] }}</td>
            </tr>
            <tr>
                <th>ì—°ë½ì²˜</th>
                <td>{{ employee['phone_number'] }}</td>
            </tr>
            <tr>
                <th>ì´ë©”ì¼</th>
                <td>{{ employee['email'] }}</td>
            </tr>
            <tr>
                <th>ì£¼ì†Œ</th>
                <td>{{ employee['address'] }}</td>
            </tr>
            <tr>
                <th>ì„±ë³„</th>
                <td>{{ employee['gender'] }}</td>
            </tr>
            <tr>
                <th>ì¬ì§ ìƒíƒœ</th>
                <td>
                    {% if employee['status'] == 'ì¬ì§' %}
                        <strong style="color: green;">{{ employee['status'] }}</strong>
                    {% else %}
                        <strong style="color: red;">{{ employee['status'] }}</strong>
                    {% endif %}
                </td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}