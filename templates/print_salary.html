<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê¸‰ì—¬ëª…ì„¸ì„œ ì¸ì‡„</title>
    <style>
        body { font-family: "Malgun Gothic", sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 10px; }
        .title { font-size: 24px; font-weight: bold; }
        .info-table, .calc-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 14px; }
        .info-table th, .info-table td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        .info-table th { background-color: #f5f5f5; width: 15%; }
        
        .calc-table th { border-top: 2px solid #333; border-bottom: 1px solid #333; padding: 10px; background-color: #f9f9f9; }
        .calc-table td { border-bottom: 1px solid #eee; padding: 10px; }
        .amount { text-align: right; }
        
        .total-row { background-color: #f0f8ff; font-weight: bold; border-top: 2px solid #333; }
        .total-row td { padding: 15px 10px; }
        
        .footer { margin-top: 50px; text-align: center; font-size: 14px; color: #555; }
        
        @media print {
            .no-print { display: none; }
            body { padding: 0; }
        }
    </style>
</head>
<body onload="window.print()">
    <div class="no-print" style="text-align: right; margin-bottom: 20px;">
        <button onclick="window.print()" style="padding: 10px 20px; cursor: pointer; background: #333; color: white; border: none;">ğŸ–¨ï¸ ì¸ì‡„í•˜ê¸°</button>
    </div>

    <div class="header">
        <div class="title">{{ payment.payment_year }}ë…„ {{ payment.payment_month }}ì›” ê¸‰ì—¬ëª…ì„¸ì„œ</div>
        <p>ì§€ê¸‰ì¼: {{ payment.payment_date }}</p>
    </div>

    <table class="info-table">
        <tr>
            <th>ì„±ëª…</th><td>{{ payment.name }}</td>
            <th>ì‚¬ë²ˆ</th><td>{{ payment.employee_id }}</td>
        </tr>
        <tr>
            <th>ì†Œì†</th><td>{{ payment.department }}</td>
            <th>ì§ê¸‰</th><td>{{ payment.position }}</td>
        </tr>
        <tr>
            <th>ì§€ê¸‰ê³„ì¢Œ</th><td colspan="3">{{ account.bank_name if account else '-' }} {{ account.account_number if account else '-' }}</td>
        </tr>
    </table>

    <table class="calc-table">
        <thead>
            <tr>
                <th width="50%">ì§€ê¸‰ ë‚´ì—­</th>
                <th width="50%">ê³µì œ ë‚´ì—­</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="vertical-align: top;">
                    <table width="100%">
                        <tr><td>ê¸°ë³¸ê¸‰</td><td class="amount">{{ payment.total_base|comma }}</td></tr>
                        <tr><td>ìˆ˜ë‹¹ í•©ê³„</td><td class="amount">{{ payment.total_allowance|comma }}</td></tr>
                        </table>
                </td>
                <td style="vertical-align: top; border-left: 1px solid #ccc;">
                    <table width="100%">
                        <tr><td>êµ­ë¯¼ì—°ê¸ˆ</td><td class="amount">{{ payment.national_pension|comma }}</td></tr>
                        <tr><td>ê±´ê°•ë³´í—˜</td><td class="amount">{{ payment.health_insurance|comma }}</td></tr>
                        <tr><td>ì¥ê¸°ìš”ì–‘ë³´í—˜</td><td class="amount">{{ payment.care_insurance|comma }}</td></tr>
                        <tr><td>ê³ ìš©ë³´í—˜</td><td class="amount">{{ payment.employment_insurance|comma }}</td></tr>
                        <tr><td>ì†Œë“ì„¸</td><td class="amount">{{ payment.income_tax|comma }}</td></tr>
                        <tr><td>ì§€ë°©ì†Œë“ì„¸</td><td class="amount">{{ payment.local_tax|comma }}</td></tr>
                    </table>
                </td>
            </tr>
            <tr class="total-row">
                <td>
                    <div style="display: flex; justify-content: space-between;">
                        <span>ì§€ê¸‰ ì´ì•¡</span>
                        <span>{{ (payment.total_base + payment.total_allowance)|comma }} ì›</span>
                    </div>
                </td>
                <td style="border-left: 1px solid #ccc;">
                    <div style="display: flex; justify-content: space-between; color: #e74c3c;">
                        <span>ê³µì œ ì´ì•¡</span>
                        <span>- {{ payment.total_deduction|comma }} ì›</span>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <div style="text-align: center; margin-top: 30px; border: 2px solid #2ecc71; padding: 20px; border-radius: 10px;">
        <span style="font-size: 18px; color: #555;">ì‹¤ ìˆ˜ë ¹ì•¡</span><br>
        <strong style="font-size: 32px; color: #333;">{{ payment.net_salary|comma }} ì›</strong>
    </div>

    <div class="footer">
        <p>ê·€í•˜ì˜ ë…¸ê³ ì— ê¹Šì´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
        <h3>ì£¼ì‹íšŒì‚¬ I-TEK ëŒ€í‘œì´ì‚¬</h3>
    </div>
</body>
</html>